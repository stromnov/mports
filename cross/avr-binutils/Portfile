# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=portfile:et:sw=4:ts=4:sts=4
# $Id: Portfile 142260 2015-11-08 20:59:11Z g5pw@macports.org $

PortSystem          1.0
PortGroup           crossbinutils 1.0

crossbinutils.setup avr 2.25.1
maintainers         g5pw openmaintainer

checksums           rmd160  5756c6163a11964347e32d1b2805e97e74ff5e3f \
                    sha256  b5b14added7d78a8d1ca70b5cb75fef57ce2197264f4f5835326b0df22ac9f22

# The build system doesn't install libiberty, even though
# crossbinutils-1.0 tells it to.
post-patch {
    set include ${prefix}/${crossbinutils.target}/host/include
    reinplace s|@target_header_dir@|${include}| \
        ${worksrcpath}/libiberty/Makefile.in
}

configure.args-append --disable-werror
