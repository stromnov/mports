--- setup.py.orig	2016-02-11 10:11:17.000000000 +0300
+++ setup.py	2016-02-11 14:46:18.000000000 +0300
@@ -40,7 +40,7 @@
 
   def initialize_options(self):
     build_ext.initialize_options(self)
-    self.extra_cmake_args = ''
+    self.extra_cmake_args = '@@EXTRA_CMAKE_ARGS@@'
 
   def run(self):
     # We don't call the origin build_ext, instead ignore that
@@ -82,7 +82,8 @@
         build_tests_option = '-DDYND_BUILD_TESTS=OFF'
 
     if sys.platform != 'win32':
-        cmake_command = ['cmake', self.extra_cmake_args, pyexe_option,
+        extra_cmake_args = shlex.split(self.extra_cmake_args)
+        cmake_command = ['cmake'] + extra_cmake_args + [pyexe_option,
                          install_lib_option, build_tests_option,
                          static_lib_option, source]
 
@@ -166,9 +167,7 @@
         import subprocess
         return subprocess.Popen(args, stdout = subprocess.PIPE).communicate()[0]
 
-# Get the version number to use from git
-ver = check_output(['git', 'describe', '--dirty',
-                               '--always', '--match', 'v*']).decode('ascii').strip('\n')
+ver = "@@DYND_PYTHON_VERSION_STRING@@"
 
 # Same processing as in __init__.py
 if '.' in ver:
